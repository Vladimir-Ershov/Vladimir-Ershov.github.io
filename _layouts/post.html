---
layout: default
---

<article class="post h-entry" itemscope itemtype="http://schema.org/BlogPosting">

  <header class="post-header">
    <h1 class="post-title p-name" itemprop="name headline">{{ page.title | escape }}</h1>

    <div class="post-meta">
      <time class="dt-published" datetime="{{ page.date | date_to_xmlschema }}" itemprop="datePublished">
        {{ page.date | date: "%B %-d, %Y" }}
      </time>

      {% if page.author %}
        • <span itemprop="author" itemscope itemtype="http://schema.org/Person">
          <span class="p-author h-card" itemprop="name">{{ page.author }}</span>
        </span>
      {% endif %}

      {% assign words = content | number_of_words %}
      {% if words < 360 %}
        • 1 min read
      {% else %}
        • {{ words | divided_by: 180 }} min read
      {% endif %}

      {% if page.updated %}
        • Updated: <time datetime="{{ page.updated | date_to_xmlschema }}">{{ page.updated | date: "%B %-d, %Y" }}</time>
      {% endif %}
    </div>

    {% if page.categories or page.tags %}
      <div class="post-taxonomy">
        {% if page.categories %}
          <div class="post-categories">
            {% for category in page.categories %}
              <a href="{{ site.baseurl }}/posts#{{ category }}" class="category-tag">{{ category }}</a>
            {% endfor %}
          </div>
        {% endif %}

        {% if page.tags %}
          <div class="post-tags">
            {% for tag in page.tags %}
              <span class="post-tag">#{{ tag }}</span>
            {% endfor %}
          </div>
        {% endif %}
      </div>
    {% endif %}

    {% if page.description %}
      <div class="post-description">
        {{ page.description }}
      </div>
    {% endif %}
  </header>

  <!-- Table of Contents -->
  <div id="toc-container" class="toc-container">
    <div class="toc-header">
      <h3>Table of Contents</h3>
      <button id="toc-toggle" class="toc-toggle">Hide</button>
    </div>
    <nav id="toc" class="toc"></nav>
  </div>

  <div class="post-content e-content" itemprop="articleBody">
    {{ content }}
  </div>

  <!-- Share buttons -->
  <div class="share-buttons">
    <h4>Share this post:</h4>
    <div class="share-links">
      <a href="https://twitter.com/intent/tweet?text={{ page.title | url_encode }}&url={{ page.url | absolute_url | url_encode }}"
         target="_blank"
         rel="noopener noreferrer"
         class="share-link twitter">
        Twitter
      </a>
      <a href="https://www.linkedin.com/sharing/share-offsite/?url={{ page.url | absolute_url | url_encode }}"
         target="_blank"
         rel="noopener noreferrer"
         class="share-link linkedin">
        LinkedIn
      </a>
      <a href="mailto:?subject={{ page.title | url_encode }}&body={{ page.url | absolute_url | url_encode }}"
         class="share-link email">
        Email
      </a>
    </div>
  </div>

  <!-- Navigation between posts -->
  <nav class="post-navigation">
    {% if page.previous.url %}
      <a class="prev-post" href="{{ page.previous.url | relative_url }}">
        <span class="nav-label">← Previous</span>
        <span class="nav-title">{{ page.previous.title | truncate: 40 | escape }}</span>
      </a>
    {% endif %}

    {% if page.next.url %}
      <a class="next-post" href="{{ page.next.url | relative_url }}">
        <span class="nav-label">Next →</span>
        <span class="nav-title">{{ page.next.title | truncate: 40 | escape }}</span>
      </a>
    {% endif %}
  </nav>

  <!-- Related posts -->
  {% if site.related_posts.size > 0 %}
    <div class="related-posts">
      <h3>Related Posts</h3>
      <ul class="related-list">
        {% for post in site.related_posts limit:3 %}
          <li>
            <a href="{{ post.url | relative_url }}">{{ post.title | escape }}</a>
            <span class="related-date">{{ post.date | date: "%B %Y" }}</span>
          </li>
        {% endfor %}
      </ul>
    </div>
  {% endif %}

  <a href="{{ page.url | relative_url }}" hidden></a>
</article>

<style>
  .post {
    max-width: 850px;
    margin: 0 auto;
    padding: 2rem 1rem;
  }

  .post-header {
    margin-bottom: 3rem;
    padding-bottom: 2rem;
    border-bottom: 2px solid var(--border-color);
  }

  .post-title {
    font-size: 2.5rem;
    line-height: 1.2;
    margin-bottom: 1rem;
    color: var(--text-color);
  }

  .post-meta {
    color: var(--text-muted);
    font-size: 0.95rem;
    margin-bottom: 1rem;
  }

  .post-taxonomy {
    margin: 1rem 0;
  }

  .category-tag, .post-tag {
    display: inline-block;
    padding: 0.3rem 0.8rem;
    margin-right: 0.5rem;
    margin-bottom: 0.5rem;
    background-color: var(--card-bg);
    color: var(--text-color);
    text-decoration: none;
    border-radius: 15px;
    font-size: 0.85rem;
    transition: all 0.2s;
  }

  .category-tag:hover {
    background-color: var(--accent-color);
    color: white;
  }

  .post-tag {
    background-color: var(--highlight-bg);
    color: var(--text-color);
  }

  .post-description {
    font-size: 1.1rem;
    color: var(--text-muted);
    font-style: italic;
    margin-top: 1rem;
    padding: 1rem;
    background-color: var(--card-bg);
    border-left: 4px solid var(--accent-color);
    border-radius: 4px;
  }

  /* TOC styles now in global CSS (dark-mode.css) */

  /* Post content styling */
  .post-content {
    font-size: 1.1rem;
    line-height: 1.8;
    color: var(--text-color);
  }

  .post-content h1,
  .post-content h2,
  .post-content h3,
  .post-content h4,
  .post-content h5,
  .post-content h6 {
    margin-top: 2rem;
    margin-bottom: 1rem;
    font-weight: 600;
    line-height: 1.25;
  }

  .post-content h2 {
    font-size: 1.8rem;
    padding-bottom: 0.3rem;
    border-bottom: 1px solid var(--border-color);
  }

  .post-content h3 {
    font-size: 1.5rem;
  }

  .post-content p {
    margin-bottom: 1.5rem;
  }

  .post-content pre {
    background-color: var(--code-bg);
    padding: 1rem;
    border-radius: 6px;
    overflow-x: auto;
    margin: 1.5rem 0;
  }

  .post-content code {
    background-color: var(--code-bg);
    padding: 0.2rem 0.4rem;
    border-radius: 3px;
    font-size: 0.9em;
  }

  .post-content pre code {
    background-color: transparent;
    padding: 0;
  }

  .post-content blockquote {
    border-left: 4px solid var(--accent-color);
    padding-left: 1rem;
    margin: 1.5rem 0;
    color: var(--text-muted);
    font-style: italic;
  }

  .post-content img {
    max-width: 100%;
    height: auto;
    border-radius: 8px;
    margin: 1.5rem 0;
  }

  .post-content ul,
  .post-content ol {
    margin: 1.5rem 0;
    padding-left: 2rem;
  }

  .post-content li {
    margin-bottom: 0.5rem;
  }

  /* Share buttons */
  .share-buttons {
    margin: 3rem 0;
    padding: 1.5rem;
    background-color: var(--card-bg);
    border-radius: 8px;
    text-align: center;
  }

  .share-buttons h4 {
    margin-bottom: 1rem;
    color: var(--text-color);
  }

  .share-links {
    display: flex;
    justify-content: center;
    gap: 1rem;
  }

  .share-link {
    padding: 0.5rem 1rem;
    background-color: var(--bg-color);
    border: 1px solid var(--border-color);
    border-radius: 6px;
    text-decoration: none;
    color: var(--text-color);
    transition: all 0.2s;
  }

  .share-link:hover {
    background-color: var(--accent-color);
    color: white;
    border-color: var(--accent-color);
    transform: translateY(-2px);
  }

  /* Post navigation */
  .post-navigation {
    display: flex;
    justify-content: space-between;
    margin: 3rem 0;
    padding: 2rem 0;
    border-top: 1px solid var(--border-color);
  }

  .prev-post,
  .next-post {
    display: flex;
    flex-direction: column;
    text-decoration: none;
    color: var(--text-color);
    padding: 1rem;
    border-radius: 8px;
    transition: all 0.2s;
    max-width: 45%;
  }

  .prev-post:hover,
  .next-post:hover {
    background-color: var(--card-bg);
    transform: translateX(5px);
  }

  .prev-post:hover {
    transform: translateX(-5px);
  }

  .nav-label {
    font-size: 0.85rem;
    color: var(--text-muted);
    margin-bottom: 0.25rem;
  }

  .nav-title {
    font-weight: 500;
    color: var(--accent-color);
  }

  /* Related posts */
  .related-posts {
    margin: 3rem 0;
    padding: 1.5rem;
    background-color: var(--card-bg);
    border-radius: 8px;
  }

  .related-posts h3 {
    margin-bottom: 1rem;
    color: var(--text-color);
  }

  .related-list {
    list-style: none;
    padding: 0;
  }

  .related-list li {
    padding: 0.75rem 0;
    border-bottom: 1px solid var(--border-color);
    display: flex;
    justify-content: space-between;
    align-items: center;
  }

  .related-list li:last-child {
    border-bottom: none;
  }

  .related-list a {
    color: var(--accent-color);
    text-decoration: none;
    font-weight: 500;
  }

  .related-list a:hover {
    text-decoration: underline;
  }

  .related-date {
    color: var(--text-muted);
    font-size: 0.85rem;
  }

  /* Responsive design */
  @media (max-width: 768px) {
    .post-title {
      font-size: 2rem;
    }

    .post-content {
      font-size: 1rem;
    }

    .share-links {
      flex-direction: column;
      align-items: center;
    }

    .share-link {
      width: 200px;
    }

    .post-navigation {
      flex-direction: column;
      gap: 1rem;
    }

    .prev-post,
    .next-post {
      max-width: 100%;
    }
  }
</style>

<script>
  // Generate Table of Contents
  document.addEventListener('DOMContentLoaded', function() {
    const toc = document.getElementById('toc');
    const tocContainer = document.getElementById('toc-container');
    const tocToggle = document.getElementById('toc-toggle');
    const content = document.querySelector('.post-content');
    const headings = content.querySelectorAll('h2, h3');

    if (headings.length === 0) {
      tocContainer.style.display = 'none';
      return;
    }

    // Build TOC
    const tocList = document.createElement('ul');
    let currentLevel = 2;
    let currentList = tocList;

    headings.forEach(function(heading, index) {
      const level = parseInt(heading.tagName.charAt(1));
      const id = 'heading-' + index;
      heading.id = id;

      const li = document.createElement('li');
      const a = document.createElement('a');
      a.href = '#' + id;
      a.textContent = heading.textContent;
      li.appendChild(a);

      if (level > currentLevel) {
        const newList = document.createElement('ul');
        currentList.lastElementChild.appendChild(newList);
        currentList = newList;
      } else if (level < currentLevel) {
        currentList = tocList;
      }

      currentList.appendChild(li);
      currentLevel = level;
    });

    toc.appendChild(tocList);

    // Toggle TOC
    tocToggle.addEventListener('click', function() {
      if (toc.style.display === 'none') {
        toc.style.display = 'block';
        tocToggle.textContent = 'Hide';
      } else {
        toc.style.display = 'none';
        tocToggle.textContent = 'Show';
      }
    });

    // Highlight current section in TOC
    const tocLinks = toc.querySelectorAll('a');

    function highlightTocItem() {
      let currentSection = null;

      headings.forEach(function(heading) {
        const rect = heading.getBoundingClientRect();
        if (rect.top <= 100 && rect.bottom > 0) {
          currentSection = heading;
        }
      });

      tocLinks.forEach(function(link) {
        link.classList.remove('active');
        if (currentSection && link.getAttribute('href') === '#' + currentSection.id) {
          link.classList.add('active');
        }
      });
    }

    window.addEventListener('scroll', highlightTocItem);
    highlightTocItem();

    // Smooth scroll for TOC links
    tocLinks.forEach(function(link) {
      link.addEventListener('click', function(e) {
        e.preventDefault();
        const targetId = this.getAttribute('href').substring(1);
        const targetElement = document.getElementById(targetId);
        targetElement.scrollIntoView({ behavior: 'smooth', block: 'start' });
      });
    });
  });
</script>